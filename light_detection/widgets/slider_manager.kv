#:kivy 2.3.0

<SliderManager>:
    id: slider_manager
    # N.B. We want to prevent the container widgets from being garbage collected, so
    # we use a __self__ reference
    binary_threshold_container: binary_theshold_container.__self__
    block_size_container: block_size_container.__self__
    constant_c_container: constant_c_container.__self__
    slider_row: slider_row
    orientation: 'vertical'
    BoxLayout:
        id: slider_row      
        CustomSliderContainer:
            id: binary_theshold_container
            label_prefix: 'Binary Threshold: '
            value: 0
        CustomSliderContainer:
            id: constant_c_container
            min:1
            value:0
            label_prefix: "Constant C: "
        CustomSliderContainer:
            id: block_size_container
            min:3
            step: 2
            value: 1
            label_prefix: "Block Size: "


    GridLayout:
        id: blur_row
        cols: 2
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'Blur'
            Switch:
                id: blur_switch
                active: False
        BoxLayout:
            orientation: 'vertical'
            CustomSliderContainer:
                id: blur_container
                label_prefix: 'Blur: '
                step: 2
                max: 90
                value: 0

<CustomSliderContainer>:
    orientation: 'vertical'
    Slider:
        id: slider
        min: root.min
        max: root.max
        step: root.step
    Label:
        text: " ".join([root.label_prefix, str(slider.value)])

<ButtonRow@BoxLayout>:
    Button:
        on_press: root.dispatch_event("GLOBAL_THRESH")
        text: "GLOBAL_THRESH"
    Button:
        text: "ADAPTIVE_THRESH_MEAN_C"
        on_press: root.dispatch_event("ADAPTIVE_THRESH_MEAN_C")
    Button:
        text: "ADAPTIVE_THRESH_GAUSSIAN_C"
        on_press: root.dispatch_event("ADAPTIVE_THRESH_GAUSSIAN_C")
    Button:
        text: "OTSU_THRESH"
        on_press: root.dispatch_event("OTSU_THRESH")